<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>react-native-problems | Rex的博客</title>
  <meta name="author" content="rex">
  
  <meta name="description" content="react native problems or knowledge[TOC]
第一次启动不了的解决办法cmd窗口有以下输出
1234567891011121314151617react-native run-androidScanning folders for symlinks in E:\rn">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="react-native-problems"/>
  <meta property="og:site_name" content="Rex的博客"/>

  
    <meta property="og:image" content=""/>
  

  
    <link rel="alternative" href="/atom.xml" title="Rex的博客" type="application/atom+xml">
  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">  
  <link rel="stylesheet" href="/css/sidenav.css" media="screen" type="text/css">  
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  

</head>

<body id="body" data-spy="scroll" data-target=".toc">
  <div class="container" id="container">
	<div class="content">
	  <div class="page-header">		
  <h1><a class="brand" href="/">Rex的博客</a><span class="split"></span><span class="title">react-native-problems</span><span class="date" id="title-date"><i class="fa fa-clock-o"></i> 2018-05-15</span></h1>
</div>		

<div class="row page">
  <!-- cols -->	
  
  

  
	<div class="col-md-12">
	  

	  <!-- content -->
	  <h1 id="react-native-problems-or-knowledge"><a href="#react-native-problems-or-knowledge" class="headerlink" title="react native problems or knowledge"></a>react native problems or knowledge</h1><p>[TOC]</p>
<h3 id="第一次启动不了的解决办法"><a href="#第一次启动不了的解决办法" class="headerlink" title="第一次启动不了的解决办法"></a>第一次启动不了的解决办法</h3><p><strong>cmd窗口有以下输出</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">react-native run-android</span><br><span class="line"></span><br><span class="line">Scanning folders for symlinks in E:\rn\WlDuban\node_modules (67ms)</span><br><span class="line"></span><br><span class="line">Starting JS server...</span><br><span class="line"></span><br><span class="line">Building and installing the app on the device (cd android &amp;&amp; gradlew.bat installdebug)...</span><br><span class="line"></span><br><span class="line">&apos;gradlew.bat&apos; 不是内部或外部命令，也不是可运行的程序或批处理文件。</span><br><span class="line"></span><br><span class="line">Could not install the app on the device, read the error above for details.</span><br><span class="line"></span><br><span class="line">Make sure you have an Android emulator running or a device connected and have</span><br><span class="line"></span><br><span class="line">set up your Android development environment:</span><br><span class="line"></span><br><span class="line">https://facebook.github.io/react-native/docs/getting-started.html</span><br></pre></td></tr></table></figure>
<blockquote>
<p>cd android &amp;&amp; gradlew.bat installDebug</p>
</blockquote>
<h3 id="第一次启动：connot-connect-to-server"><a href="#第一次启动：connot-connect-to-server" class="headerlink" title="第一次启动：connot connect to server"></a>第一次启动：connot connect to server</h3><blockquote>
<p>长按菜单键-&gt; Dev Setting-&gt;Debug server host &amp; port for devices</p>
<p>设置IP和端口如：192.168.1.123:8081</p>
</blockquote>
<h3 id="第一次启动白屏"><a href="#第一次启动白屏" class="headerlink" title="第一次启动白屏"></a>第一次启动白屏</h3><blockquote>
<p>主动打开app的悬浮窗权限，然后重启app</p>
</blockquote>
<h3 id="npm-i-报错"><a href="#npm-i-报错" class="headerlink" title="npm i 报错"></a>npm i 报错</h3><p>npm ERR! code EPERM<br>npm ERR! errno -4048<br>npm ERR! syscall lstat<br>npm ERR! Error: EPERM: operation not permitted, lstat ‘E:\rn\GitHubPopular\GitHubPopular\node_modules\fsevents\node_modules\rc\node_modules’</p>
<p>重点是：operation not permitted  想到应该是windows系统下的权限错误。</p>
<blockquote>
<p>解决方法：   使用win+x,选择命令提示符（管理员），在里面运行命令就好了。</p>
</blockquote>
<h3 id="React-Native-Could-not-expand-ZIP"><a href="#React-Native-Could-not-expand-ZIP" class="headerlink" title="React Native Could not expand ZIP"></a>React Native Could not expand ZIP</h3><p>Execution failed for task ‘:app:prepareSrolkReactNativeFilePickerUnspecifiedLibrary’.</p>
<p>Could not expand ZIP …..node_modules\react-native-file-picker\android\build\outputs\aar\react-native-file-picker-release.aar</p>
<blockquote>
<p>cd android &amp;&amp; gradlew clean &amp;&amp; cd .. &amp;&amp; react-native run-android</p>
</blockquote>
<h3 id="INSTALL-FAILED-UPDATE-INCOMPATIBLE"><a href="#INSTALL-FAILED-UPDATE-INCOMPATIBLE" class="headerlink" title="INSTALL_FAILED_UPDATE_INCOMPATIBLE"></a>INSTALL_FAILED_UPDATE_INCOMPATIBLE</h3><p>com.android.ddmlib.InstallException: Failed to finalize session : INSTALL_FAILED_UPDATE_INCOMPATIBLE: Package com.awesomeproject signatures do not match the previously installed version; ignoring!</p>
<blockquote>
<p>一般来说，是因为包名和签名的信息与原先手机上的冲突，最简单的方式，通过adb uninstall packageName将原来的App卸载干净，重新执行就可以成功了。</p>
</blockquote>
<h3 id="npm-清除缓存"><a href="#npm-清除缓存" class="headerlink" title="npm 清除缓存:"></a>npm 清除缓存:</h3><blockquote>
<p>npm cache clean -f</p>
</blockquote>
<h3 id="模拟器如何打开react-native-的app-菜单"><a href="#模拟器如何打开react-native-的app-菜单" class="headerlink" title="模拟器如何打开react native 的app 菜单"></a>模拟器如何打开react native 的app 菜单</h3><blockquote>
<p>adb shell input keyevent 82</p>
</blockquote>
<h3 id="js中-gt-的含义"><a href="#js中-gt-的含义" class="headerlink" title="js中 =&gt; 的含义"></a>js中 =&gt; 的含义</h3><p>=&gt;是es6语法中的arrow function<br><code>(x) =&gt; x + 6</code><br>相当于</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function(x)&#123;</span><br><span class="line"></span><br><span class="line">  return x + 6;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="Text居中"><a href="#Text居中" class="headerlink" title="Text居中"></a>Text居中</h3> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;View style=&#123;&#123;flex:1,alignItems: &apos;center&apos;,&#125;&#125;&gt;</span><br><span class="line"></span><br><span class="line">   &lt;Text style=&#123;&#123;fontWeight: &apos;bold&apos;,fontSize:20,color:&apos;white&apos;&#125;&#125;&gt;个人中心&lt;/Text&gt;</span><br><span class="line"></span><br><span class="line"> &lt;/View&gt;</span><br></pre></td></tr></table></figure>
<h3 id="visual-studio-code-react-native-Current-workspace-is-not-a-React-Native-project"><a href="#visual-studio-code-react-native-Current-workspace-is-not-a-React-Native-project" class="headerlink" title="visual studio code react-native: Current workspace is not a React Native project"></a>visual studio code react-native: Current workspace is not a React Native project</h3><p>This is a known bug in react-native-cli@2.0.0 and there is already a PR waiting to be merged. This should be fixed in the next release of react-native-cli. For now, the workaround is to revert to an earlier version, eg. react-native-cli@.1.3.0.</p>
<p>As suggested before, you can install it with npm i -g react-native-cli@1.3.0</p>
<blockquote>
<p>install latest cli : npm install -g react-native-cli</p>
</blockquote>
<h3 id="返回按钮监听-然后判断页面是否在前台"><a href="#返回按钮监听-然后判断页面是否在前台" class="headerlink" title="返回按钮监听,然后判断页面是否在前台"></a>返回按钮监听,然后判断页面是否在前台</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">componentDidMount() &#123;</span><br><span class="line">  if (Platform.OS === &quot;android&quot;)</span><br><span class="line">    BackHandler.addEventListener(&quot;hardwareBackPress&quot;, this.handleBack);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">componentWillUnmount() &#123;</span><br><span class="line">  if (Platform.OS === &quot;android&quot;)</span><br><span class="line">    BackHandler.removeEventListener(&quot;hardwareBackPress&quot;, this.handleBack);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">handleBack = () =&gt; &#123;</span><br><span class="line">  if (this.props.navigation.isFocused()) &#123;// isFocused()是react navigation的方法</span><br><span class="line">    alert(&quot;我在主页你知道吗?&quot;);</span><br><span class="line">    var timestamp = new Date().valueOf();</span><br><span class="line">    if (timestamp - firstClick &gt; 2000) &#123;</span><br><span class="line">      firstClick = timestamp;</span><br><span class="line">      ToastAndroid.show(&quot;再按一次退出&quot;, ToastAndroid.SHORT);</span><br><span class="line">      return true;</span><br><span class="line">    &#125;</span><br><span class="line">    BackHandler.exitApp();</span><br><span class="line">    return false;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  return false;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="安装NativeBase-后复制theme"><a href="#安装NativeBase-后复制theme" class="headerlink" title="安装NativeBase 后复制theme"></a>安装NativeBase 后复制theme</h3><p>NativeBase 2.0 has been succesfully installed!<br>Run <code>node node_modules/native-base/ejectTheme.js</code> to copy over theme config and variables.<br>Head over to the docs for detailed information on how to make changes to the theme.   </p>
	  

	  <div>
  		<center>
		  <div class="pagination">
<ul class="pagination">
	
	
	
	
	
	
		
			
			
		
	
		
			
			
			
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
	
	
		<li class="prev disabled"><a><i class="fa fa-arrow-circle-o-left"></i>prev</a></li>
	
	<li><a href="/"><i class="fa fa-archive"></i>Home</a></li>
	
		<li class="next"><a href="/2018/02/05/android-studio-shortcuts/" class="alignright next">next<i class="fa fa-arrow-circle-o-right"></i></a></li>
	
</ul>
</div>

		</center>
	  </div>
	  
	</div> <!-- col-md-9/col-md-12 -->
	
  </div><!-- row -->

	</div>
  </div>
  <div class="container-narrow">
	<footer> <p>
  &copy; 2018 rex
  
      with help from <a href="http://zespia.tw/hexo/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-wixo/">Wixo</a>.    
</p> </footer>
  </div> <!-- container-narrow -->
  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/jquery.tableofcontents.min.js"></script>
<script src="/js/tocgenerator.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>




</body>
</html>
